# =============================================================================
# Koomky - Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_NAME=Koomky
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost
APP_PORT=80
APP_SSL_PORT=443

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DB_CONNECTION=pgsql
DB_HOST=postgres
DB_PORT=5432
DB_DATABASE=koomky
DB_USERNAME=koomky
DB_PASSWORD=secret
DB_PORT_EXTERNAL=5432

# -----------------------------------------------------------------------------
# Cache & Session & Queue (Redis)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_PORT_EXTERNAL=6379

CACHE_DRIVER=redis
SESSION_DRIVER=redis
QUEUE_CONNECTION=redis

# -----------------------------------------------------------------------------
# Meilisearch
# -----------------------------------------------------------------------------
MEILISEARCH_HOST=http://meilisearch:7700
MEILISEARCH_PORT=7700
MEILISEARCH_PORT_EXTERNAL=7700
SCOUT_DRIVER=meilisearch

# -----------------------------------------------------------------------------
# Mail (Development - Mailpit)
# -----------------------------------------------------------------------------
MAIL_MAILER=smtp
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=noreply@koomky.test
MAIL_FROM_NAME="${APP_NAME}"

# Mailpit (Development Email Testing)
MAILPIT_SMTP_PORT=1025
MAILPIT_HTTP_PORT=8025

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
JWT_SECRET=
JWT_TTL=15                    # Access token TTL in minutes
JWT_REFRESH_TTL=43200           # Refresh token TTL in seconds (30 days)

# -----------------------------------------------------------------------------
# 2FA (Two-Factor Authentication)
# -----------------------------------------------------------------------------
TWO_FACTOR_ENABLED=true
TWO_FACTOR_ISSUER="${APP_NAME}"

# -----------------------------------------------------------------------------
# File Storage
# -----------------------------------------------------------------------------
FILESYSTEM_DISK=local

# For production, use S3-compatible storage:
# FILESYSTEM_DISK=s3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=
# AWS_URL=

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
REDIS_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=60

# -----------------------------------------------------------------------------
# Password Policy
# -----------------------------------------------------------------------------
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=true

# -----------------------------------------------------------------------------
# Lockout Policy
# -----------------------------------------------------------------------------
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=15                # minutes

# -----------------------------------------------------------------------------
# Frontend (Nuxt)
# -----------------------------------------------------------------------------
NUXT_PUBLIC_API_BASE_URL=http://localhost/api/v1
